## 计划任务

- [x] 解决系统更新后用户端更新问题版本 上线

  上线后才暴露出教务系统到 CRM 系统的入口不见了，跟踪后发现是教务系统调用我们系统的 getUesrInfo 接口失败，所以没有出现入口。  
  getUesrInfo 接口调用失败的原因是跨域请求没有携带 cookie，后台服务拦截器层判定调用接口的用户需要刷新页面更新到最新版本系统。  
  之前没有考虑到其它系统会直接 http 请求调用我们系统 API 服务，所以导致这个问题出现。现紧急处理方案是后端单独针对 getUesrInfo 接口不判定版本标识，提供给其它系统绿色通道。

  后来测试过程中还发现原来教务系统调用的是很老版本的 CRM API 的 getUesrInfo 接口，这个接口其实已经没有用了，但是一直保留着。而这个接口其实还是调用的 工单 API 的 getUesrInfo 的服务，哭笑不得。

  后来给 @王波 发了一条消息，关于业务系统之间的接口调用是不是应该有个规章制度：

  > 关于其它系统直接调用我们系统 API 服务的情况是不是该注意一下，而且这次教务那边调用的还是可以说被废弃的接口，CRM API 服务的 getUserInfo 接口，而我们系统本身没有用到这个接口，系统本身调用的是 工单 API 服务的 getUserInfo 接口。
  >
  > 如果以后因为什么发现我们系统本身没有调用 CRM API 服务的 getUserInfo 接口，不知道其它系统有调用，将这个接口删除掉了，同样会引发今天的问题。
  >
  > 我们是不是要思考下，各系统之间的 http 请求是不是不应该直接调用，而是各系统后端通过 RPC 调用，比如 Dubbo。
  >
  > 业务系统之间的接口调用是不是应该有个规章制度，这种直接调用其它系统业务接口的方式不可取。

- [x] 协助 @三炮 @彭泽华 完成工单 v1.22 开发

  @三炮 这边代码的抽象能力还是太弱，或者说是不愿意去主动尝试。

  @彭泽华 跟 @三炮 算是有个鲜明对比，有想法，有思考，愿意主动。

## 阅读思考

### [JavaScript Clean Code - Best Practices](https://devinduct.com/blogpost/22/javascript-clean-code-best-practices)

写代码是一门艺术，能写出优雅的代码，是一件值得自豪的事，我很自豪。
