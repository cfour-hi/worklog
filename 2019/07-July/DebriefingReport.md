# Debriefing Report

业务数据化、数据业务化

## 项目成绩

1. CRM + 工单 可伸缩项目结构

   历史背景：CRM 和工单本是两个系统，因为整体规划将 CRM 和工单合并为一个系统，随着业务增长，系统复杂度逐渐提升。

   预期未来：拆分为各业务独立的系统

   单一系统承担的职责太多必然导致高度的复杂性，发展到一定阶段，必然会进行以业务为导向的系统拆分。  
   前端在 2018 年合并 CRM 和工单项目时就已经感受并体会到这个痛点，所以提前规划预期，经过两次大的项目结构设计，目前以 git-submodule 为基础，将营销线前端所有业务项目设计为 “微项目”，另外建立一个 “仓库” 型项目（取名 portal），集装在框架项目之下（取名 micro-frame）。  
   portal 项目包含业务项目所需的所有公共组件，是营销线业务项目的百宝箱，解耦各业务项目，也是各业务项目能独立拆分为独立系统的的关键因素之一。  
   micro-frame 项目作为集装箱，包含所有业务项目所需的依赖（避免各项目重复安装）、规范（统一各项目代码风格）、配置（同样避免各项目重复编写），是系统可灵活合并、拆分的核心因素。

   提升工作效率：  
   将所有公用模块内聚在独立项目 portal，一处开发，多处使用。与业务项目分离，仅作为业务项目的依赖，业绩项目之间无耦合。避免业务项目之间的重复开发，提升可复用性，保证可维护性，职责分明，分工明确。

2. 前端异常处理方案（2019-07 已被替换）

   解决前端在接口层的异常处理流程问题，不侵入业务修改和特殊语法，不局限特定框架，基于 Promise 进行补丁覆写，配合 axios 拦截器改造，业务代码层面毫无感知。

3. 一套标准通用的 Vue 项目 ESLint 代码规范、Prettier 格式化配置。

   历史背景：各项目无代码规范，代码风格迥异，代码格式不统一，导致项目可维护性差，代码评审困难，新人融入项目开发成本较高。

   预期未来：通过 cli 生成项目时即包含所有配置，可直接进行业务开发。

   提升工作效率：  
   代码规范作为依赖包引入各项目，利用工具做到实时检测、提示，依赖包作为独立项目维护。格式化配置目前已统一，但配置文件仍需重复编写，未来打算是通过 cli 生成项目时同时生成。

4. 推动前端异常监控平台 Sentry 搭建并探索使用

   历史背景：线上问题无法第一时间发现，只能等到用户反馈问题之后进行修复，而收到用户反馈时其实已经对大批量用户造成影响。

   添加异常监控平台后，可第一时间发现并解决线上问题，减少异常对用户产生的影响，及时止损，建立让用户信任可靠的系统。

5. 单元测试（失败）

   由于业务项目本身特质，单元测试无法大面积覆盖，并且项目迭代中一段时间，因为项目结构的特殊性，单元测试融入项目比较困难，后期调整项目结构之后才真正融入。  
   目前项目中的单元测试仅针对基础组件局部覆盖，而项目中的基础组件并没有小伙伴参与，都是自己编写，所以单元测试并没有渗透到团队每个小伙伴参与其中。

<!-- 4. 解决新版本上线后所有终端用户同步更新问题

   历史背景：用户未关闭系统，新版本发布上线之后用户端无法自动更新，用户继续使用系统会产生异常。 -->

## 团队发展

目前，营销线前端所有小伙伴都能作为版本迭代负责人承担相应职责，个人整体能力

## 个人规划

- 活动页面编辑器
- 工作流打造、提升效率的基础设施搭建
- 团队内容输出
