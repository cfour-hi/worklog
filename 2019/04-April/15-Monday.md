## 计划任务

- [x] CRM-v1.15.1 和 work-v1.18 版本发布

  今天改了一天的 bug，因为 部门 和 科目 级联组件的重构导致，自己测试还是漏了很多地方，涉及面比我预期的要广。  
  可以说是有些盲目自信，以为已经考虑到了各个方面，结果还是打脸了。  
  不过这次的收获还是很大的，组件细节的把握更加娴熟，自认为现已能够完全掌控组件间的任何数据流向和上下游关系，对组件的基础、功能、业务拆分有更深的理解。

- [x] 邀请 @左耳 体验运营后台 APP

  他今天并没有抽出时间过来体验

- [x] 工作周报

## 今日概览

白天改了一天 bug 挺惭愧，晚上 @田斌 接口基础数据按需加载方案已实现，还算挺满意。  
之前的想法就是通过 Proxy 代理访问接口基础数据，页面需要使用时再去调用接口获取数据，而不是像现在这样的进入页面就调用十几个接口获取基础数据。这个方案的实现在月初其实已经完成，只是在业务端使用还有些麻烦，每个使用的地方都需要手动引入。  
然后又让 @田斌 研究类似 vuex 和 vue-router 的实现方案，如何将这些基础数据注入到 vm。
vuex 的实现很好理解，在 root vm options 添加 store 属性，利用全局 mixin beforeCreate hook，在 root vm 添加 $store 属性，以及所有子组件 beforeCreate hook 内添加 $store 为 root vm \$store 的引用。

![AxbOAg.png](https://s2.ax1x.com/2019/04/17/AxbOAg.png)
